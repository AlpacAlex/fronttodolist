(this.webpackJsonptestdep=this.webpackJsonptestdep||[]).push([[0],{115:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(9),c=n.n(r),o=n(14),s=n.n(o),i=n(23),u=n(20),l=n(71),d=n(160),p=n(149),b=n(151),f=n(152),j=n(153),x={App:{Paper:{padding:20,margin:"auto",textAlign:"center",width:500,backgroundColor:"transparent"},Header:{padding:10,margin:"auto",textAlign:"center",fontSize:40,width:500,backgroundColor:"transparent",color:"black"}},MenuToDo:{Icon:{marginLeft:"auto"},Paper:{margin:"auto",padding:10,display:"flex",alignItems:"center",marginTop:10,width:500},MenuTodo:{padding:10,margin:"0 auto",textAlign:"center",width:500,backgroundColor:"transparent"}},ToDo:{Icon:{float:"right"},Paper:{margin:"auto",padding:10,display:"flex",alignItems:"center",marginTop:10,width:500},Date:{fontSize:20,marginLeft:"auto"}}},h=n(6);var m=function(e){var t=e.howToShowTask,n=e.sortTodo;return Object(h.jsxs)(d.a,{style:x.MenuToDo.MenuTodo,children:[Object(h.jsx)(p.a,{className:"all",onClick:function(){return t("")},children:"All"}),Object(h.jsx)(p.a,{className:"done",onClick:function(){return t("done")},children:"Done"}),Object(h.jsx)(p.a,{className:"undone",onClick:function(){return t("undone")},style:{marginRight:90},children:"Undone"}),Object(h.jsx)(d.a,{component:"span",className:"sort",children:"Sort by Date"}),Object(h.jsx)(b.a,{id:"up",color:"primary","aria-label":"up bottom",style:x.MenuToDo.Icon,onClick:function(){n("asc")},children:Object(h.jsx)(f.a,{fontSize:"small"})}),Object(h.jsx)(b.a,{id:"up",color:"primary","aria-label":"down bottom",style:x.MenuToDo.Icon,onClick:function(){n("desc")},children:Object(h.jsx)(j.a,{fontSize:"small"})})]})},v=n(154),g=n(155),O=n(163),k=n(156),y=n(157);var w=function(e){var t=e.todo,n=e.fullUpdateTask,r=e.removeTask,c=Object(a.useState)(t.name),o=Object(u.a)(c,2),l=o[0],p=o[1],f=Object(a.useState)(!1),j=Object(u.a)(f,2),m=j[0],w=j[1],T=/^[\w\s]{1,18}$/gm,C=function(){var e=Object(i.a)(s.a.mark((function e(a){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.currentTarget.value,p(r),13!==a.keyCode){e.next=15;break}if(!T.test(r)){e.next=11;break}return e.next=7,n(t.uuid,r,t.done,!1);case 7:c=e.sent,p(c?t.name:r),e.next=12;break;case 11:p(t.name);case 12:document.activeElement.blur(),e.next=16;break;case 15:27===a.keyCode&&(p(t.name),document.activeElement.blur());case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)(v.a,{item:!0,xs:12,children:Object(h.jsxs)(g.a,{elevation:2,style:x.ToDo.Paper,children:[Object(h.jsx)(O.a,{checked:!!t.done,onChange:function(){},onClick:function(){return n(t.uuid,t.name,t.done,!0)},color:"secondary"}),Object(h.jsx)(k.a,{value:l,disableUnderline:!0,onChange:C,onKeyDown:C,style:{width:"64%"}}),Object(h.jsx)(d.a,{component:"span",style:x.ToDo.Date,textAlign:"right",m:1,children:new Date(t.createdAt).toLocaleDateString()}),Object(h.jsx)(b.a,{style:x.ToDo.Icon,disabled:m,color:"secondary","aria-label":"Delete",onClick:function(){return t.uuid,w(!0),void r(t.uuid)},children:Object(h.jsx)(y.a,{fontSize:"small"})})]})})},T=n(159),C=n(166);var D=function(e){var t=e.addTask,n=Object(a.useState)(""),r=Object(u.a)(n,2),c=r[0],o=r[1],s=/^[\w\s]{0,25}$/gm;return Object(h.jsx)(C.a,{component:"form",onSubmit:function(e){e.preventDefault(),c.replace(/\s+/g,"").length&&(t(c),o("")),o("")},style:{display:"flex"},noValidate:!0,autoComplete:"off",children:Object(h.jsxs)(d.a,{style:{display:"flex"},children:[Object(h.jsx)(T.a,{type:"text",onChange:function(e){e.preventDefault();var t=e.currentTarget.value;s.test(t)&&o(e.currentTarget.value)},value:c,id:"outlined-basic",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435...",variant:"outlined",style:{width:"80%"}}),Object(h.jsx)(p.a,{type:"submit",variant:"contained",color:"primary",style:{width:"20%"},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})})},S=n(165),A=n(161),I=n(162),P=n(158),M=Object(P.a)((function(e){return{root:{"& > *":{marginTop:e.spacing(2),display:"flex",margin:"auto",fontSize:20}},paginator:{margin:"auto",justifyContent:"center",padding:"10px"}}})),z=n(93);function N(e){return Object(h.jsx)(I.a,Object(l.a)({elevation:6,variant:"filled"},e))}n(111).config();var L=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(1),o=Object(u.a)(c,2),l=o[0],p=o[1],b=Object(a.useState)(),f=Object(u.a)(b,2),j=f[0],O=f[1],k=Object(a.useState)("asc"),y=Object(u.a)(k,2),T=y[0],C=y[1],I=Object(a.useState)(""),P=Object(u.a)(I,2),L=P[0],B=P[1],E=Object(a.useState)({er:!1,msg:null}),F=Object(u.a)(E,2),U=F[0],H=F[1],J=function(e){var t,n;H({er:!0,msg:(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||e.message})},$=M(),K="https://backtodosv2.herokuapp.com",R=Object(a.useCallback)(Object(i.a)(s.a.mark((function e(){var t,n,a=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,e.prev=1,e.next=4,z.get("".concat(K,"/tasks/").concat(t),{params:{page:l,filterBy:L,orderBy:T}});case 4:200===(n=e.sent).status&&(r(n.data.rows),O(n.data.count)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),J(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[K,l,L,T]),V=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,a,r,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],a=c.length>2&&void 0!==c[2]?c[2]:1,e.prev=2,e.next=5,z.post("".concat(K,"/task/").concat(a),{name:t,done:n});case 5:if(200!==(r=e.sent).status){e.next=8;break}return e.abrupt("return",r.data);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),J(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(i.a)(s.a.mark((function e(t,n,a){var r,c,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>3&&void 0!==o[3]?o[3]:1,e.prev=1,e.next=4,z.patch("".concat(K,"/task/").concat(r,"/").concat(t),{name:n,done:a});case 4:if(200!==(c=e.sent).status){e.next=7;break}return e.abrupt("return",c.data);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),J(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,a,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:1,e.prev=1,e.next=4,z.delete("".concat(K,"/task/").concat(n,"/").concat(t));case 4:if(204!==(a=e.sent).status){e.next=7;break}return e.abrupt("return",a);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),J(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t);case 2:return e.next=4,R();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t);case 2:return(j-1)%5||Y(1,l-1),e.next=5,R();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(i.a)(s.a.mark((function e(t,n,a,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=5;break}return e.next=3,q(t,n,!a);case 3:e.next=10;break;case 5:return e.next=7,q(t,n,a);case 7:if(e.sent){e.next=10;break}return e.abrupt("return",!0);case 10:return e.next=12,R();case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Y=Object(a.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;t<1&&t++,-1!==n&&t>n&&t--,p(t)}),[p]),Z=function(e,t){"clickaway"!==t&&H(!1)},_=Math.ceil(j/5)||0;return Object(a.useEffect)((function(){function e(){return(e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[L,T,l,R]),Object(h.jsx)(d.a,{className:"App",children:Object(h.jsxs)(v.a,{container:!0,spacing:0,children:[Object(h.jsxs)(v.a,{item:!0,xs:12,children:[Object(h.jsxs)(g.a,{style:x.App.Header,elevation:0,children:["ToDo: ",j]}),Object(h.jsx)(g.a,{style:x.App.Paper,children:Object(h.jsx)(D,{addTask:Q})}),Object(h.jsx)(m,{howToShowTask:function(e){B(e),Y(1,1)},sortTodo:function(e){return C(e)}}),n.map((function(e){return Object(h.jsx)(w,{todo:e,fullUpdateTask:X,removeTask:W},Date.parse(e.createdAt))})),Object(h.jsx)(d.a,{className:$.root,children:_>1&&Object(h.jsx)(A.a,{count:_,onChange:Y,defaultPage:1,color:"primary",classes:{ul:$.paginator}})})]}),Object(h.jsx)(S.a,{open:U.er,autoHideDuration:7e3,onClose:Z,children:Object(h.jsx)(N,{onClose:Z,severity:"error",children:U.msg})})]})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,168)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};c.a.render(Object(h.jsx)(L,{}),document.getElementById("root")),B()}},[[115,1,2]]]);
//# sourceMappingURL=main.4189ddf7.chunk.js.map