(this.webpackJsonptestdep=this.webpackJsonptestdep||[]).push([[0],{114:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),s=a.n(c),o=a(19),u=a(34),i=a.n(u),d=a(51),l=a(28),b=a(73),p=a(159),x=a(148),m=a(150),j=a(151),g=a(152),h={App:{Paper:{padding:20,margin:"auto",textAlign:"center",width:500,backgroundColor:"transparent"},Header:{padding:10,margin:"auto",textAlign:"center",fontSize:40,width:500,backgroundColor:"transparent",color:"black"}},MenuToDo:{Icon:{marginLeft:"auto"},Paper:{margin:"auto",padding:10,display:"flex",alignItems:"center",marginTop:10,width:500},MenuTodo:{padding:10,margin:"0 auto",textAlign:"center",width:500,backgroundColor:"transparent"}},ToDo:{Icon:{float:"right"},Paper:{margin:"auto",padding:10,display:"flex",alignItems:"center",marginTop:10,width:500},Date:{fontSize:20,marginLeft:"auto"}}},k=a(6);var f=function(e){var t=e.done;return Object(k.jsxs)(p.a,{style:h.MenuToDo.MenuTodo,children:[Object(k.jsx)(x.a,{className:"all",onClick:function(){return t({it:"showAllTask"})},children:"All"}),Object(k.jsx)(x.a,{className:"done",onClick:function(){return t({it:"showComplateTask"})},children:"Done"}),Object(k.jsx)(x.a,{className:"undone",onClick:function(){return t({it:"showUncomplateTask"})},style:{marginRight:90},children:"Undone"}),Object(k.jsx)(p.a,{component:"span",className:"sort",children:"Sort by Date"}),Object(k.jsx)(m.a,{id:"up",color:"primary","aria-label":"up bottom",style:h.MenuToDo.Icon,onClick:function(){t({it:"sortByDate"})},children:Object(k.jsx)(j.a,{fontSize:"small"})}),Object(k.jsx)(m.a,{id:"up",color:"primary","aria-label":"down bottom",style:h.MenuToDo.Icon,onClick:function(){t({it:"sortByReversDate"})},children:Object(k.jsx)(g.a,{fontSize:"small"})})]})},v=a(153),O=a(154),y=a(162),T=a(155),w=a(156);var C=function(e){var t=e.todo,a=e.done,r=Object(n.useState)(t.name),c=Object(l.a)(r,2),s=c[0],o=c[1],u=/^[\w\s]{1,18}$/gm,i=function(e){var n=e.currentTarget.value;(o(n),13===e.keyCode)?(u.test(n)?a({it:"updateTask",complete:t.done,uuid:t.uuid,upTask:n}):o(t.name),document.activeElement.blur()):27===e.keyCode&&(o(t.name),document.activeElement.blur())};return Object(k.jsx)(v.a,{item:!0,xs:12,children:Object(k.jsxs)(O.a,{elevation:2,style:h.ToDo.Paper,children:[Object(k.jsx)(y.a,{checked:!!t.done,onChange:function(){},onClick:function(){return a({it:"changeChecbox",userInput:t.name,complete:t.done,uuid:t.uuid})},color:"secondary"}),Object(k.jsx)(T.a,{value:s,disableUnderline:!0,onChange:i,onKeyDown:i,style:{width:"64%"}}),Object(k.jsx)(p.a,{component:"span",style:h.ToDo.Date,textAlign:"right",m:1,children:new Date(t.createdAt).toLocaleDateString()}),Object(k.jsx)(m.a,{style:h.ToDo.Icon,color:"secondary","aria-label":"Delete",onClick:function(){return a({it:"removeTask",uuid:t.uuid})},children:Object(k.jsx)(w.a,{fontSize:"small"})})]})})},D=a(158),S=a(165);var A=function(e){var t=e.done,a=Object(n.useState)(""),r=Object(l.a)(a,2),c=r[0],s=r[1],o=/^[\w\s]{0,25}$/gm;return Object(k.jsx)(S.a,{component:"form",onSubmit:function(e){e.preventDefault(),c.replace(/\s+/g,"").length&&(t({it:"addTask",userInput:c}),s("")),s("")},style:{display:"flex"},noValidate:!0,autoComplete:"off",children:Object(k.jsxs)(p.a,{style:{display:"flex"},children:[Object(k.jsx)(D.a,{type:"text",onChange:function(e){e.preventDefault();var t=e.currentTarget.value;o.test(t)&&s(e.currentTarget.value)},value:c,id:"outlined-basic",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435...",variant:"outlined",style:{width:"80%"}}),Object(k.jsx)(x.a,{type:"submit",variant:"contained",color:"primary",style:{width:"20%"},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})})},I=a(164),M=a(160),B=a(161),P=a(157),z=Object(P.a)((function(e){return{root:{"& > *":{marginTop:e.spacing(2),display:"flex",margin:"auto",fontSize:20}},paginator:{margin:"auto",justifyContent:"center",padding:"10px"}}})),N=a(95);function L(e){return Object(k.jsx)(B.a,Object(b.a)({elevation:6,variant:"filled"},e))}var E=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),s=Object(l.a)(c,2),u=s[0],b=s[1],x=Object(n.useState)({er:!1,msg:null}),m=Object(l.a)(x,2),j=m[0],g=m[1],y=a.length,T=z(),w="https://todo-api-learning.herokuapp.com",D=function(){var e=Object(d.a)(i.a.mark((function e(t,a,n){var r,c,s,o,u,d,l,b,p,x,m,j,h,k,f,v,O,y,T,C,D,S,A,I,M,B,P,z,L,E,F,U,H,R;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.method,c=t.userId,s=void 0===c?"1":c,o=t.uuid,u=void 0===o?"":o,d=a.task,l=void 0===d?"":d,b=a.done,p=void 0!==b&&b,x=n.filter,m=void 0===x?"":x,j=n.order,h=void 0===j?"":j,e.t0=r,e.next="get"===e.t0?6:"post"===e.t0?68:"patch"===e.t0?84:"delete"===e.t0?99:116;break;case 6:if(!m||!h){e.next=22;break}return k="/v1/tasks/".concat(s,"?filterBy=").concat(m,"&order=").concat(h),f=w+k,e.prev=9,e.next=12,N.get(f);case 12:if(200!==(v=e.sent).status){e.next=15;break}return e.abrupt("return",v.data);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(9),g({er:!0,msg:e.t1.response.data.message});case 20:e.next=67;break;case 22:if(!m){e.next=38;break}return O="/v1/tasks/".concat(s,"?filterBy=").concat(m),y=w+O,e.prev=25,e.next=28,N.get(y);case 28:if(200!==(T=e.sent).status){e.next=31;break}return e.abrupt("return",T.data);case 31:e.next=36;break;case 33:e.prev=33,e.t2=e.catch(25),g({er:!0,msg:e.t2.response.data.message});case 36:e.next=67;break;case 38:if(!h){e.next=54;break}return C="/v1/tasks/".concat(s,"?order=").concat(h),D=w+C,e.prev=41,e.next=44,N.get(D);case 44:if(200!==(S=e.sent).status){e.next=47;break}return e.abrupt("return",S.data);case 47:e.next=52;break;case 49:e.prev=49,e.t3=e.catch(41),g({er:!0,msg:e.t3.response.data.message});case 52:e.next=67;break;case 54:return A="/v1/tasks/".concat(s),I=w+A,e.prev=56,e.next=59,N.get(I);case 59:if(200!==(M=e.sent).status){e.next=62;break}return e.abrupt("return",M.data);case 62:e.next=67;break;case 64:e.prev=64,e.t4=e.catch(56),g({er:!0,msg:e.t4.response.data.message});case 67:return e.abrupt("break",117);case 68:if(!l){e.next=83;break}return B="/v1/task/".concat(s),P=w+B,e.prev=71,e.next=74,N.post(P,{name:l,done:p});case 74:if(z=e.sent,console.log(z),200!==z.status){e.next=78;break}return e.abrupt("return",z.data);case 78:e.next=83;break;case 80:e.prev=80,e.t5=e.catch(71),g({er:!0,msg:e.t5.response.data.message});case 83:return e.abrupt("break",117);case 84:if(!u){e.next=98;break}return L="/v1/task/".concat(s,"/").concat(u),E=w+L,e.prev=87,e.next=90,N.patch(E,{name:l,done:p});case 90:if(200!==(F=e.sent).status){e.next=93;break}return e.abrupt("return",F.data);case 93:e.next=98;break;case 95:e.prev=95,e.t6=e.catch(87),g({er:!0,msg:e.t6.response.data.message});case 98:return e.abrupt("break",117);case 99:if(!u){e.next=115;break}return U="/v1/task/".concat(s,"/").concat(u),H=w+U,e.prev=102,e.next=105,N.delete(H,{uuid:u,name:l,done:p});case 105:if(204!==(R=e.sent).status){e.next=110;break}return e.abrupt("return",R);case 110:e.next=115;break;case 112:e.prev=112,e.t7=e.catch(102),g({er:!0,msg:e.t7.response.data.message});case 115:return e.abrupt("break",117);case 116:console.log("method? error | default");case 117:return e.abrupt("return",!0);case 118:case"end":return e.stop()}}),e,null,[[9,17],[25,33],[41,49],[56,64],[71,80],[87,95],[102,112]])})));return function(t,a,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(i.a.mark((function e(t){var n,c,s,d,l,b,p,x,m,j,g,h,k,f,v,O,T,w,C;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.it,c=t.userInput,s=void 0===c?"":c,d=t.complete,l=void 0===d?-1:d,b=t.uuid,p=void 0===b?0:b,x=t.upTask,m=void 0===x?"":x,j=Object(o.a)(a),e.t0=n,e.next="addTask"===e.t0?5:"removeTask"===e.t0?13:"changeChecbox"===e.t0?22:"showAllTask"===e.t0?30:"showComplateTask"===e.t0?35:"showUncomplateTask"===e.t0?41:"sortByDate"===e.t0?47:"sortByReversDate"===e.t0?52:"updateTask"===e.t0?57:65;break;case 5:if(!s){e.next=12;break}return e.next=8,D({method:"post"},{task:s},{});case 8:return e.next=10,D({method:"get"},{},{order:"asc"});case 10:g=e.sent,j=Object(o.a)(g);case 12:return e.abrupt("break",66);case 13:if(!p){e.next=21;break}return e.next=16,D({method:"delete",uuid:p},{},{});case 16:return e.next=18,D({method:"get"},{},{order:"asc"});case 18:h=e.sent,j=Object(o.a)(h),(y-1)%5||B(1,u-1);case 21:return e.abrupt("break",66);case 22:if(!s||!p||-1===l){e.next=29;break}return e.next=25,D({method:"patch",uuid:p},{task:s,done:!l},{});case 25:return e.next=27,D({method:"get"},{},{order:"asc"});case 27:k=e.sent,j=Object(o.a)(k);case 29:return e.abrupt("break",66);case 30:return e.next=32,D({method:"get"},{},{order:"asc"});case 32:return f=e.sent,j=Object(o.a)(f),e.abrupt("break",66);case 35:return e.next=37,D({method:"get"},{},{filter:"done",order:"asc"});case 37:return v=e.sent,j=Object(o.a)(v),B(1,1),e.abrupt("break",66);case 41:return e.next=43,D({method:"get"},{},{filter:"undone",order:"asc"});case 43:return O=e.sent,j=Object(o.a)(O),B(1,1),e.abrupt("break",66);case 47:return e.next=49,D({method:"get"},{},{order:"asc"});case 49:return T=e.sent,j=Object(o.a)(T),e.abrupt("break",66);case 52:return e.next=54,D({method:"get"},{},{order:"desc"});case 54:return w=e.sent,j=Object(o.a)(w),e.abrupt("break",66);case 57:if(!p||!m||-1===l){e.next=64;break}return e.next=60,D({method:"patch",uuid:p},{task:m,done:l},{});case 60:return e.next=62,D({method:"get"},{},{order:"asc"});case 62:C=e.sent,j=Object(o.a)(C);case 64:return e.abrupt("break",66);case 65:console.log("error done task");case 66:r(j);case 67:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=Object(n.useCallback)((function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;t<1&&t++,-1!==a&&t>a&&t--,b(t)}),[b]),P=function(e,t){"clickaway"!==t&&g(!1)},E=Object(n.useMemo)((function(){return Object(o.a)(a).slice(5*(u-1),5*(u-1)+5)}),[a,u]),F=Math.ceil(y/5)||0;return Object(n.useEffect)(Object(d.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D({method:"get"},{},{order:"asc"});case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)}))),[]),Object(k.jsx)(p.a,{className:"App",children:Object(k.jsxs)(v.a,{container:!0,spacing:0,children:[Object(k.jsxs)(v.a,{item:!0,xs:12,children:[Object(k.jsxs)(O.a,{style:h.App.Header,elevation:0,children:["ToDo: ",a.length]}),Object(k.jsx)(O.a,{style:h.App.Paper,children:Object(k.jsx)(A,{done:S})}),Object(k.jsx)(f,{done:S}),E.map((function(e){return Object(k.jsx)(C,{todo:e,done:S},Date.parse(e.createdAt))})),Object(k.jsx)(p.a,{className:T.root,children:F>1&&Object(k.jsx)(M.a,{count:F,onChange:B,defaultPage:1,color:"primary",classes:{ul:T.paginator}})})]}),Object(k.jsx)(I.a,{open:j.er,autoHideDuration:7e3,onClose:P,children:Object(k.jsx)(L,{onClose:P,severity:"error",children:j.msg})})]})})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,167)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(E,{})}),document.getElementById("root")),F()}},[[114,1,2]]]);
//# sourceMappingURL=main.e2c6f4d0.chunk.js.map