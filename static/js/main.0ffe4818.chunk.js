(this.webpackJsonptestdep=this.webpackJsonptestdep||[]).push([[0],{114:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),s=a(16),i=a(34),u=a.n(i),d=a(51),l=a(28),b=a(73),p=a(159),j=a(148),m=a(150),h=a(151),x=a(152),g={App:{Paper:{padding:20,margin:"auto",textAlign:"center",width:500,backgroundColor:"transparent"},Header:{padding:10,margin:"auto",textAlign:"center",fontSize:40,backgroundColor:"transparent",color:"black"}},MenuToDo:{Icon:{marginLeft:"auto"},Paper:{margin:"auto",padding:10,display:"flex",alignItems:"center",marginTop:10,width:500},MenuTodo:{padding:10,margin:"0 auto",textAlign:"center",width:500,backgroundColor:"transparent"}},ToDo:{Icon:{float:"right"},Paper:{margin:"auto",padding:10,display:"flex",alignItems:"center",marginTop:10,width:500},Date:{fontSize:20,marginLeft:"auto"}}},f=a(6);var k=function(e){var t=e.done;return Object(f.jsxs)(p.a,{style:g.MenuToDo.MenuTodo,children:[Object(f.jsx)(j.a,{className:"all",onClick:function(){return t({it:"showAllTask"})},children:"All"}),Object(f.jsx)(j.a,{className:"done",onClick:function(){return t({it:"showComplateTask"})},children:"Done"}),Object(f.jsx)(j.a,{className:"undone",onClick:function(){return t({it:"showUncomplateTask"})},style:{marginRight:90},children:"Undone"}),Object(f.jsx)(p.a,{component:"span",className:"sort",children:"Sort by Date"}),Object(f.jsx)(m.a,{id:"up",color:"primary","aria-label":"up bottom",style:g.MenuToDo.Icon,onClick:function(){t({it:"sortByDate"})},children:Object(f.jsx)(h.a,{fontSize:"small"})}),Object(f.jsx)(m.a,{id:"up",color:"primary","aria-label":"down bottom",style:g.MenuToDo.Icon,onClick:function(){t({it:"sortByReversDate"})},children:Object(f.jsx)(x.a,{fontSize:"small"})})]})},v=a(153),O=a(154),y=a(162),T=a(155),D=a(156);var C=function(e){var t=e.todo,a=e.done,r=Object(n.useState)(t.name),c=Object(l.a)(r,2),o=c[0],s=c[1],i=/^[\w\s]{1,18}$/gm,u=function(e){var n=e.currentTarget.value;(s(n),13===e.keyCode)?(i.test(n)?a({it:"updateTask",complete:t.done,uuid:t.uuid,upTask:n}):s(t.name),document.activeElement.blur()):27===e.keyCode&&(s(t.name),document.activeElement.blur())};return Object(f.jsx)(v.a,{item:!0,xs:12,children:Object(f.jsxs)(O.a,{elevation:2,style:g.ToDo.Paper,children:[Object(f.jsx)(y.a,{checked:!!t.done,onChange:function(){},onClick:function(){return a({it:"changeChecbox",userInput:t.name,complete:t.done,uuid:t.uuid})},color:"secondary"}),Object(f.jsx)(T.a,{value:o,disableUnderline:!0,onChange:u,onKeyDown:u,style:{width:"64%"}}),Object(f.jsx)(p.a,{component:"span",style:g.ToDo.Date,textAlign:"right",m:1,children:new Date(t.createdAt).toLocaleDateString()}),Object(f.jsx)(m.a,{style:g.ToDo.Icon,color:"secondary","aria-label":"Delete",onClick:function(){return a({it:"removeTask",uuid:t.uuid})},children:Object(f.jsx)(D.a,{fontSize:"small"})})]})})},w=a(158),A=a(165);var S=function(e){var t=e.done,a=Object(n.useState)(""),r=Object(l.a)(a,2),c=r[0],o=r[1],s=/^[\w\s]{0,25}$/gm;return Object(f.jsx)(A.a,{component:"form",onSubmit:function(e){e.preventDefault(),t({it:"addTask",userInput:c}),o("")},style:{display:"flex"},noValidate:!0,autoComplete:"off",children:Object(f.jsxs)(p.a,{style:{display:"flex"},children:[Object(f.jsx)(w.a,{type:"text",onChange:function(e){e.preventDefault();var t=e.currentTarget.value;s.test(t)&&o(e.currentTarget.value)},value:c,id:"outlined-basic",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435...",variant:"outlined",style:{width:"80%"}}),Object(f.jsx)(j.a,{type:"submit",variant:"contained",color:"primary",style:{width:"20%"},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})})},I=a(164),M=a(160),P=a(161),z=a(157),B=Object(z.a)((function(e){return{root:{"& > *":{marginTop:e.spacing(2),display:"flex",margin:"auto",fontSize:20}},paginator:{margin:"auto",justifyContent:"center",padding:"10px"}}})),N=a(95);function L(e){return Object(f.jsx)(P.a,Object(b.a)({elevation:6,variant:"filled"},e))}var E=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),o=Object(l.a)(c,2),i=o[0],b=o[1],j=Object(n.useState)({er:!1,msg:null}),m=Object(l.a)(j,2),h=m[0],x=m[1],y=a.length,T=B(),D="https://todo-api-learning.herokuapp.com",w=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n,r,c,o,s,i,d,l,b,p,j,m,h,g,f,k,v,O,y,T,C;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.method,r=t.userId,c=void 0===r?"1":r,o=t.uuid,s=void 0===o?"":o,i=a.task,d=void 0===i?"":i,l=a.done,b=void 0!==l&&l,e.t0=n,e.next="get"===e.t0?5:"post"===e.t0?21:"patch"===e.t0?38:"delete"===e.t0?55:72;break;case 5:return p="/v1/tasks/".concat(c),j=D+p,e.prev=7,e.next=10,N.get(j);case 10:if(200!==(m=e.sent).status){e.next=15;break}return e.abrupt("return",m.data);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(7),x({er:!0,msg:"error in receiving data\n(didn\u2019t get a response from the server, try again)"});case 20:return e.abrupt("break",73);case 21:if(!d){e.next=37;break}return h="/v1/task/".concat(c),g=D+h,e.prev=24,e.next=27,N.post(g,{name:d,done:b});case 27:if(200!==(f=e.sent).status){e.next=32;break}return e.abrupt("return",f.data);case 32:e.next=37;break;case 34:e.prev=34,e.t2=e.catch(24),x({er:!0,msg:"error in sending data\n(server did not receive data, change the task name to a unique one)"});case 37:return e.abrupt("break",73);case 38:if(!s){e.next=54;break}return k="/v1/task/".concat(c,"/").concat(s),v=D+k,e.prev=41,e.next=44,N.patch(v,{name:d,done:b});case 44:if(200!==(O=e.sent).status){e.next=49;break}return e.abrupt("return",O.data);case 49:e.next=54;break;case 51:e.prev=51,e.t3=e.catch(41),x({er:!0,msg:"error in updating data\n(incorrect task change)"});case 54:return e.abrupt("break",73);case 55:if(!s){e.next=71;break}return y="/v1/task/".concat(c,"/").concat(s),T=D+y,e.prev=58,e.next=61,N.delete(T,{uuid:s,name:d,done:b});case 61:if(204!==(C=e.sent).status){e.next=66;break}return e.abrupt("return",C);case 66:e.next=71;break;case 68:e.prev=68,e.t4=e.catch(58),x({er:!0,msg:"error in deleting data\n(the file is already being processed for deletion)"});case 71:return e.abrupt("break",73);case 72:console.log("method? error | default");case 73:return e.abrupt("return",!0);case 74:case"end":return e.stop()}}),e,null,[[7,17],[24,34],[41,51],[58,68]])})));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,c,o,d,l,b,p,j,m,h,x,g,f,k,v,O,T,D,C,A,S;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.it,c=t.userInput,o=void 0===c?"":c,d=t.complete,l=void 0===d?-1:d,b=t.uuid,p=void 0===b?0:b,j=t.upTask,m=void 0===j?"":j,h=Object(s.a)(a),e.t0=n,e.next="addTask"===e.t0?5:"removeTask"===e.t0?13:"changeChecbox"===e.t0?22:"showAllTask"===e.t0?30:"showComplateTask"===e.t0?35:"showUncomplateTask"===e.t0?42:"sortByDate"===e.t0?48:"sortByReversDate"===e.t0?55:"updateTask"===e.t0?62:70;break;case 5:if(!o){e.next=12;break}return e.next=8,w({method:"post"},{task:o});case 8:return e.next=10,w({method:"get"},{});case 10:x=e.sent,h=Object(s.a)(x);case 12:return e.abrupt("break",71);case 13:if(!p){e.next=21;break}return e.next=16,w({method:"delete",uuid:p},{});case 16:return e.next=18,w({method:"get"},{});case 18:g=e.sent,h=Object(s.a)(g),(y-1)%5||P(1,i-1);case 21:return e.abrupt("break",71);case 22:if(!o||!p||-1===l){e.next=29;break}return e.next=25,w({method:"patch",uuid:p},{task:o,done:!l});case 25:return e.next=27,w({method:"get"},{});case 27:f=e.sent,h=Object(s.a)(f);case 29:return e.abrupt("break",71);case 30:return e.next=32,w({method:"get"},{});case 32:return k=e.sent,h=Object(s.a)(k),e.abrupt("break",71);case 35:return e.next=37,w({method:"get"},{});case 37:return v=e.sent,h=Object(s.a)(v.filter((function(e){return!0===e.done}))),P(1,1),e.abrupt("break",71);case 42:return e.next=44,w({method:"get"},{});case 44:return O=e.sent,h=Object(s.a)(O.filter((function(e){return!1===e.done}))),P(1,1),e.abrupt("break",71);case 48:return e.next=50,w({method:"get"},{});case 50:return T=e.sent,(D=Object(s.a)(T)).sort((function(e,t){return Date.parse(e.createdAt)-Date.parse(t.createdAt)})),h=Object(s.a)(D),e.abrupt("break",71);case 55:return e.next=57,w({method:"get"},{});case 57:return C=e.sent,(A=Object(s.a)(C)).sort((function(e,t){return Date.parse(t.createdAt)-Date.parse(e.createdAt)})),h=Object(s.a)(A),e.abrupt("break",71);case 62:if(!p||!m||-1===l){e.next=69;break}return e.next=65,w({method:"patch",uuid:p},{task:m,done:l});case 65:return e.next=67,w({method:"get"},{});case 67:S=e.sent,h=Object(s.a)(S);case 69:return e.abrupt("break",71);case 70:console.log("error done task");case 71:r(h);case 72:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=Object(n.useCallback)((function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;t<1&&t++,-1!==a&&t>a&&t--,b(t)}),[b]),z=function(e,t){"clickaway"!==t&&x(!1)},E=Object(n.useMemo)((function(){return Object(s.a)(a).slice(5*(i-1),5*(i-1)+5)}),[a,i]),F=Math.ceil(y/5)||0;return Object(n.useEffect)(Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({method:"get"},{});case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)}))),[]),Object(f.jsx)(p.a,{className:"App",children:Object(f.jsxs)(v.a,{container:!0,spacing:0,children:[Object(f.jsxs)(O.a,{style:g.App.Header,elevation:0,children:["ToDo: ",a.length]}),Object(f.jsxs)(v.a,{item:!0,xs:12,children:[Object(f.jsx)(O.a,{style:g.App.Paper,children:Object(f.jsx)(S,{done:A})}),Object(f.jsx)(k,{done:A}),E.map((function(e){return Object(f.jsx)(C,{todo:e,done:A},Date.parse(e.createdAt))})),Object(f.jsx)(p.a,{className:T.root,children:F>1&&Object(f.jsx)(M.a,{count:F,onChange:P,defaultPage:1,color:"primary",classes:{ul:T.paginator}})})]}),Object(f.jsx)(I.a,{open:h.er,autoHideDuration:7e3,onClose:z,children:Object(f.jsx)(L,{onClose:z,severity:"error",children:h.msg})})]})})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,167)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(E,{})}),document.getElementById("root")),F()}},[[114,1,2]]]);
//# sourceMappingURL=main.0ffe4818.chunk.js.map